package utils

import (
	"testing"
)

func TestFromWei(t *testing.T) {
	inputList := []string{
		"0",
		"1",
		"12",
		"123",
		"1234",
		"12345",
		"123456",
		"1234567",
		"12345678",
		"123456789",
		"1234567890",
		"12345678900",
		"123456789000",
		"1234567890001",
		"100000000000000",
		"1000000000000000",
		"10000000000000000",
		"100000000000000000",
		"1000000000000000000",
		"10000000000000000000",
		"100000000000000000000",
		"1000000000000000000000",
		"10000000000000000000000",
		"100000000000000000000000",
		"1000000000000000000000000",
		"10000000000000000000000000",
		"10000000000001234567890001",
	}
	outputList := []string{
		"0",
		"0.000000000000000001",
		"0.000000000000000012",
		"0.000000000000000123",
		"0.000000000000001234",
		"0.000000000000012345",
		"0.000000000000123456",
		"0.000000000001234567",
		"0.000000000012345678",
		"0.000000000123456789",
		"0.00000000123456789",
		"0.0000000123456789",
		"0.000000123456789",
		"0.000001234567890001",
		"0.0001",
		"0.001",
		"0.01",
		"0.1",
		"1",
		"10",
		"100",
		"1000",
		"10000",
		"100000",
		"1000000",
		"10000000",
		"10000000.000001234567890001",
	}
	for i, value := range inputList {
		formatValue := FromWei(value)
		if outputList[i] != formatValue {
			t.Errorf("Input: %s, OutPut: %s, Expect: %s", value, formatValue, outputList[i])
		}
	}
}

func TestFormatValue10(t *testing.T) {
	inputList := []string{
		"0",
		"1",
		"12",
		"123",
		"1234",
		"12345",
		"123456",
		"1234567",
		"12345678",
		"123456789",
		"1234567890",
		"12345678900",
		"123456789000",
		"1234567890001",
		"100000000000000",
		"1000000000000000",
		"10000000000000000",
		"100000000000000000",
		"1000000000000000000",
		"10000000000000000000",
		"100000000000000000000",
		"1000000000000000000000",
		"10000000000001234567890001",
	}
	outputList := []string{
		"0",
		"0.0000000001",
		"0.0000000012",
		"0.0000000123",
		"0.0000001234",
		"0.0000012345",
		"0.0000123456",
		"0.0001234567",
		"0.0012345678",
		"0.0123456789",
		"0.123456789",
		"1.23456789",
		"12.3456789",
		"123.4567890001",
		"10000",
		"100000",
		"1000000",
		"10000000",
		"100000000",
		"1000000000",
		"10000000000",
		"100000000000",
		"1000000000000123.4567890001",
	}
	for i, value := range inputList {
		formatValue := FormatValue(value, 10)
		if outputList[i] != formatValue {
			t.Errorf("Input: %s, OutPut: %s, Expect: %s", value, formatValue, outputList[i])
		}
	}
}

func TestFormatValue0(t *testing.T) {
	inputList := []string{
		"0",
		"1",
		"12",
		"123",
		"1234",
		"12345",
		"123456",
		"1234567",
		"12345678",
		"123456789",
		"1234567890",
		"12345678900",
		"123456789000",
		"1234567890001",
		"100000000000000",
		"1000000000000000",
		"10000000000000000",
		"100000000000000000",
		"1000000000000000000",
		"10000000000000000000",
		"100000000000000000000",
		"1000000000000000000000",
		"10000000000001234567890001",
	}

	for _, value := range inputList {
		formatValue := FormatValue(value, 0)
		if value != formatValue {
			t.Errorf("Input: %s, OutPut: %s, Expect: %s", value, formatValue, value)
		}
	}
}
